@model IEnumerable<FinalProjectAtt3.Models.Appointment>

@{
    ViewBag.Title = "Appointment Status";
}

<h2>Your Appointments</h2>


<table class="table table-bordered table-striped table-hover">
    <thead class="thead-dark">
        <tr>
            <th>Doctor</th>
            <th>Date</th>
            <th>Time Slot</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var appointment in Model)
        {
            <tr>
                <td>@appointment.Doctor.FirstName @appointment.Doctor.LastName</td>
                <td>@appointment.DoctorScheduleDate.ToShortDateString()</td>
                <td>
                    @{
                        string slot = appointment.SlotBooked switch
                        {
                            1 => "10-11 AM",
                            2 => "11-12 AM",
                            3 => "2-3 PM",
                            4 => "3-4 PM",
                            _ => "Unknown"
                        };
                    }
                    @slot
                </td>
                <td>
                    @{
                        string status = appointment.AppointmentStatus switch
                        {
                            1 => "Pending Approval",
                            2 => "Approved",
                            3 => "Rejected",
                            _ => "Unknown"
                        };
                    }
                    @status
                </td>
            </tr>
        }
    </tbody>
</table>

<a asp-controller="Patient" asp-action="BookAppointment" class="btn btn-primary">Book Another Appointment</a> <br />


<div class="mt-3">
    <a href="@Url.Action("Logout", "Patient")" class="btn btn-danger">Logout</a>
</div>

<style>
    h2 {
        margin-top: 20px;
        text-align: center;
    }

    .table {
        margin-top: 20px;
        border: 1px solid #dee2e6;
    }

    .thead-dark th {
        background-color: #343a40;
        color: #fff;
    }

    .btn-primary {
        margin-top: 20px;
    }
</style>
